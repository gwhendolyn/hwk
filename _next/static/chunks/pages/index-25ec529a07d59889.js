(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{7276:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(3035)}])},3035:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>N});var n=s(4848),a=s(3368),l=s.n(a),c=s(9680),i=s.n(c),r=s(6195),u=s.n(r);function o(e){return(0,n.jsxs)("div",{className:u().container,id:e.lm?null:"inverted",children:[(0,n.jsx)("button",{className:u().button,children:(0,n.jsx)("img",{className:u().icon,src:"/hwk/save.svg"})}),(0,n.jsx)("hr",{className:u().rule}),(0,n.jsx)("button",{className:u().button,children:(0,n.jsx)("img",{className:u().icon,src:"/hwk/open.svg"})}),(0,n.jsx)("hr",{className:u().rule}),(0,n.jsx)("button",{className:u().button,onClick:e.setLm,children:(0,n.jsx)("img",{className:u().icon,src:e.lm?"/hwk/dark.svg":"/hwk/light.svg"})}),(0,n.jsx)("hr",{className:u().rule}),(0,n.jsx)("button",{className:u().button,children:(0,n.jsx)("img",{className:u().icon,src:"/hwk/info.svg"})}),(0,n.jsx)("hr",{className:u().rule})]})}var d=s(5183),p=s.n(d),h=s(1426),m=s.n(h),x=s(4431),g=s.n(x),j=s(6540);function C(e){let[t,s]=(0,j.useState)(null==e.nam?"New Category":e.nam),[a,l]=(0,j.useState)(null==e.wght?0:e.wght),[c,i]=(0,j.useState)(null==e.ass?[]:e.ass),[r,u]=(0,j.useState)(null==e.em||e.em);function o(){u(!r)}(0,j.useEffect)(()=>{e.updateCat(e.classID,e.id,"nam",t),e.updateCat(e.classID,e.id,"wght",a),e.updateCat(e.classID,e.id,"ass",c)},[t,a,c]),(0,j.useEffect)(()=>{var t=0,s=0;for(let e of c)isNaN(parseInt(e[1]))||(t+=parseInt(e[1]),s+=100-parseInt(e[1]));0==!c.length&&(t/=c.length,s/=c.length),t*=parseInt(a)/100,s*=parseInt(a)/100,e.updateLocked(t,e.id),e.updateLost(s,e.id)},[c]);let d=e=>t=>{i(c.map((s,n)=>n==e?[t.target.value,s[1]]:s))},p=e=>t=>{i(c.map((s,n)=>n==e?[s[0],t.target.value]:s))};return(0,n.jsx)("div",{children:r?(0,n.jsxs)("div",{className:g().container,children:[(0,n.jsx)("p",{children:"Name:"}),(0,n.jsx)("input",{type:"text",value:t,onChange:function(e){s(e.target.value)},onFocus:e=>{e.target.select()}}),(0,n.jsx)("p",{children:"Weight"}),(0,n.jsx)("input",{type:"number",value:a,onChange:function(e){l(e.target.value)},onFocus:e=>{e.target.select()}}),(0,n.jsx)("button",{onClick:o,children:"finish editing"})]}):(0,n.jsxs)("div",{className:g().container,children:[(0,n.jsx)("p",{children:t}),(0,n.jsx)("button",{onClick:o,children:"edit"}),(0,n.jsxs)("div",{className:g().assignments,children:[c.length>0?c.map((e,t)=>(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{children:"Assignment Name"}),(0,n.jsx)("input",{type:"text",value:e[0],onChange:d(t),onFocus:e=>{e.target.select()}}),(0,n.jsx)("p",{children:"Grade"}),(0,n.jsx)("input",{type:"number",value:e[1],onChange:p(t),onFocus:e=>{e.target.select()}})]},t)):null,(0,n.jsx)("button",{onClick:function(){i([...c,[c.length+1,""]])},className:g().button,children:"add assignment"})]})]})})}function f(e){let[t,s]=(0,j.useState)(null==e.catID?0:e.catID),[a,l]=(0,j.useState)([]),[c,i]=(0,j.useState)([]),[r,u]=(0,j.useState)(null==e.em||e.em),[o,d]=(0,j.useState)([]),[p,h]=(0,j.useState)(null==e.nam?"New class":e.nam),[x,g]=(0,j.useState)(null==e.bp?[["D",60],["C",70],["B",80],["A",90]]:e.bp),[f,v]=(0,j.useState)(null==e.pLock?0:e.pLock),[b,N]=(0,j.useState)(null==e.pLost?0:e.pLost);function _(){r&&g([...x].sort(function(e,t){return e[1]-t[1]})),u(!r)}(0,j.useEffect)(()=>{if(null!=e.cats)for(let a of Object.keys(e.cats))d([...o,(0,n.jsx)(C,{id:parseInt(a),classID:e.id,updateCat:e.updateCat,updateLocked:I,updateLost:y,nam:e.cats[a].nam,wght:e.cats[a].wght,ass:e.cats[a].ass,em:!1},parseInt(a))]),e.addCat(e.id,t),s(t+1)},[]),(0,j.useEffect)(()=>{e.updateClass(e.id,"nam",p),e.updateClass(e.id,"bp",x),e.updateClass(e.id,"pLock",f),e.updateClass(e.id,"pLost",b)},[p,x,f,b]);let k=e=>t=>{g(x.map((s,n)=>n==e?[t.target.value,s[1]]:s))},S=e=>t=>{g(x.map((s,n)=>n==e?[s[0],t.target.value]:s))};function w(e){var t="F";for(let s of x)e>s[1]&&(t=s[0]);return t}let I=(e,t)=>{a[t]=e,l(a),v(a.reduce((e,t)=>e+t,0))},y=(e,t)=>{c[t]=e,i(c),N(c.reduce((e,t)=>e+t,0))};return(0,n.jsx)("div",{children:r?(0,n.jsxs)("div",{className:m().container,children:[(0,n.jsxs)("div",{className:m().nameIn,children:[(0,n.jsx)("p",{children:"Class Name:"}),(0,n.jsx)("input",{type:"text",value:p,onChange:function(e){h(e.target.value)},onFocus:e=>{e.target.select()}})]}),(0,n.jsxs)("div",{className:m().breakpointsIn,children:[(0,n.jsx)("p",{children:"Grade breakpoints"}),(0,n.jsxs)("div",{className:m().labels,children:[(0,n.jsx)("p",{children:"Letter Grade"}),(0,n.jsx)("p",{children:"Minimum Percentage"})]}),x.length>0?x.map((e,t)=>(0,n.jsxs)("div",{children:[(0,n.jsx)("input",{type:"text",value:e[0],onChange:k(t),onFocus:e=>{e.target.select()}}),(0,n.jsx)("input",{type:"number",value:e[1],onChange:S(t),onFocus:e=>{e.target.select()}})]},t)):null,(0,n.jsx)("button",{onClick:function(){g([...x,["new",0]])},className:m().button,children:"add breakpoint"})]}),(0,n.jsx)("button",{onClick:_,className:m().button,children:"finish editing"})]}):(0,n.jsxs)("div",{className:m().container,children:[(0,n.jsxs)("div",{className:m().topBar,children:[(0,n.jsx)("h1",{children:p}),(0,n.jsxs)("h2",{children:["Currently achieved grade: ",f.toFixed(2),"% (",w(f),")"]}),(0,n.jsxs)("h2",{children:["Highest possible grade: ",(100-b).toFixed(2),"% (",w(100-b),")"]}),(0,n.jsx)("button",{onClick:_,className:m().button,children:"edit"})]}),(0,n.jsxs)("div",{className:m().categoriesBox,children:[o,(0,n.jsx)("button",{onClick:function(){d([...o,(0,n.jsx)(C,{id:t,classID:e.id,updateCat:e.updateCat,updateLocked:I,updateLost:y},t)]),e.addCat(e.id,t),s(t+1)},className:m().button,children:"add category"})]})]})})}let v=0;function b(e){let[t,s]=(0,j.useState)([]),[a,l]=(0,j.useState)({});(0,j.useEffect)(()=>{let e=JSON.parse(localStorage.getItem("simplifiedState"));e&&function(e){for(let u of Object.keys(e))console.log(e[u].cats),s([...t,(0,n.jsx)(f,{id:parseInt(u),updateClass:c,updateCat:r,addCat:i,cats:e[u].cats,em:!1,nam:e[u].nam,bp:e[u].bp,pLock:e[u].pLock,pLost:e[u].pLost},parseInt(u))]),a[u]={cats:{}},l(structuredClone(a)),v++}(e)},[]),(0,j.useEffect)(()=>{localStorage.setItem("simplifiedState",JSON.stringify(a))},[JSON.stringify(a)]);let c=(e,t,s)=>{a[e][t]=s,l(structuredClone(a))},i=(e,t)=>{a[e].cats[t]={},l(structuredClone(a))},r=(e,t,s,n)=>{a[e].cats[t][s]=n,l(structuredClone(a))};return(0,n.jsxs)("div",{className:p().container,id:e.lm?null:"inverted",children:[t,(0,n.jsx)("button",{onClick:function(){s([...t,(0,n.jsx)(f,{id:v,updateClass:c,addCat:i,updateCat:r},v)]),a[v]={cats:{}},l(structuredClone(a)),v++},className:p().button,children:(0,n.jsx)("img",{className:p().icon,src:"/hwk/add.svg"})})]})}function N(){let[e,t]=(0,j.useState)(!0);return(0,n.jsxs)("div",{className:i().container,children:[(0,n.jsxs)(l(),{children:[(0,n.jsx)("title",{children:"HWK: Grade Calculator"}),(0,n.jsx)("link",{rel:"icon",href:"/hwk/favicon.ico"})]}),(0,n.jsx)(o,{lm:e,setLm:()=>{t(!e)}}),(0,n.jsx)(b,{lm:e})]})}},4431:e=>{e.exports={container:"Category_container__hCK7v",assignments:"Category_assignments__r54u9"}},1426:e=>{e.exports={container:"Course_container__25gEO",topBar:"Course_topBar__BUAOy"}},5183:e=>{e.exports={container:"CourseContainer_container___tlMy",button:"CourseContainer_button__vMiDp"}},9680:e=>{e.exports={container:"Home_container__d256j"}},6195:e=>{e.exports={rule:"Sidebar_rule__tu0eX",container:"Sidebar_container__DYphx",button:"Sidebar_button__SyJgS",icon:"Sidebar_icon__Xclcw"}},3368:(e,t,s)=>{e.exports=s(6085)}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(7276)),_N_E=e.O()}]);