(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{7276:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(3035)}])},3035:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>N});var n=s(4848),a=s(3368),l=s.n(a),c=s(9680),i=s.n(c),r=s(6195),o=s.n(r);function u(e){return(0,n.jsxs)("div",{className:o().container,id:e.lm?null:"inverted",children:[(0,n.jsx)("button",{className:o().button,onClick:e.toggleSave,children:(0,n.jsx)("img",{className:o().icon,src:"/hwk/save.svg"})}),(0,n.jsx)("hr",{className:o().rule}),(0,n.jsx)("button",{className:o().button,onClick:e.toggleLoad,children:(0,n.jsx)("img",{className:o().icon,src:"/hwk/open.svg"})}),(0,n.jsx)("hr",{className:o().rule}),(0,n.jsx)("button",{className:o().button,onClick:e.setLm,children:(0,n.jsx)("img",{className:o().icon,src:e.lm?"/hwk/dark.svg":"/hwk/light.svg"})}),(0,n.jsx)("hr",{className:o().rule}),(0,n.jsx)("button",{className:o().button,onClick:e.toggleInfo,children:(0,n.jsx)("img",{className:o().icon,src:"/hwk/info.svg"})}),(0,n.jsx)("hr",{className:o().rule})]})}var d=s(5183),p=s.n(d),h=s(1426),m=s.n(h),g=s(4431),x=s.n(g),j=s(6540);function C(e){let[t,s]=(0,j.useState)(null==e.nam?"New Category":e.nam),[a,l]=(0,j.useState)(null==e.wght?0:e.wght),[c,i]=(0,j.useState)(null==e.ass?[]:e.ass),[r,o]=(0,j.useState)(null==e.em||e.em);function u(){o(!r)}(0,j.useEffect)(()=>{e.updateCat(e.classID,e.id,"nam",t),e.updateCat(e.classID,e.id,"wght",a),e.updateCat(e.classID,e.id,"ass",c)},[t,a,c]),(0,j.useEffect)(()=>{var t=0,s=0;for(let e of c)isNaN(parseInt(e[1]))||(t+=parseInt(e[1]),s+=100-parseInt(e[1]));0==!c.length&&(t/=c.length,s/=c.length),t*=parseInt(a)/100,s*=parseInt(a)/100,e.updateLocked(t,e.id),e.updateLost(s,e.id)},[c]);let d=e=>t=>{i(c.map((s,n)=>n==e?[t.target.value,s[1]]:s))},p=e=>t=>{i(c.map((s,n)=>n==e?[s[0],t.target.value]:s))};return(0,n.jsx)("div",{children:r?(0,n.jsxs)("div",{className:x().container,children:[(0,n.jsx)("p",{children:"Name:"}),(0,n.jsx)("input",{type:"text",value:t,onChange:function(e){s(e.target.value)},onFocus:e=>{e.target.select()}}),(0,n.jsx)("p",{children:"Weight"}),(0,n.jsx)("input",{type:"number",value:a,onChange:function(e){l(e.target.value)},onFocus:e=>{e.target.select()}}),(0,n.jsx)("button",{onClick:u,children:"finish editing"})]}):(0,n.jsxs)("div",{className:x().container,children:[(0,n.jsx)("p",{children:t}),(0,n.jsx)("button",{onClick:u,children:"edit"}),(0,n.jsxs)("div",{className:x().assignments,children:[c.length>0?c.map((e,t)=>(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{children:"Assignment Name"}),(0,n.jsx)("input",{type:"text",value:e[0],onChange:d(t),onFocus:e=>{e.target.select()}}),(0,n.jsx)("p",{children:"Grade"}),(0,n.jsx)("input",{type:"number",value:e[1],onChange:p(t),onFocus:e=>{e.target.select()}})]},t)):null,(0,n.jsx)("button",{onClick:function(){i([...c,[c.length+1,""]])},className:x().button,children:"add assignment"})]})]})})}function f(e){let[t,s]=(0,j.useState)(null==e.catID?0:e.catID),[a,l]=(0,j.useState)([]),[c,i]=(0,j.useState)([]),[r,o]=(0,j.useState)(null==e.em||e.em),[u,d]=(0,j.useState)([]),[p,h]=(0,j.useState)(null==e.nam?"New class":e.nam),[g,x]=(0,j.useState)(null==e.bp?[["D",60],["C",70],["B",80],["A",90]]:e.bp),[f,v]=(0,j.useState)(null==e.pLock?0:e.pLock),[b,N]=(0,j.useState)(null==e.pLost?0:e.pLost);function _(){r&&x([...g].sort(function(e,t){return e[1]-t[1]})),o(!r)}(0,j.useEffect)(()=>{if(null!=e.cats&&0==u.length){var t=[];for(let s of Object.keys(e.cats))t=[...t,(0,n.jsx)(C,{id:parseInt(s),classID:e.id,updateCat:e.updateCat,updateLocked:I,updateLost:w,nam:e.cats[s].nam,wght:e.cats[s].wght,ass:e.cats[s].ass,em:!1},parseInt(s))],e.addCat(e.id,s);s(t.length),d(u.concat(t))}},[]),(0,j.useEffect)(()=>{e.updateClass(e.id,"nam",p),e.updateClass(e.id,"bp",g),e.updateClass(e.id,"pLock",f),e.updateClass(e.id,"pLost",b)},[p,g,f,b]);let k=e=>t=>{x(g.map((s,n)=>n==e?[t.target.value,s[1]]:s))},S=e=>t=>{x(g.map((s,n)=>n==e?[s[0],t.target.value]:s))};function y(e){var t="F";for(let s of g)e>s[1]&&(t=s[0]);return t}let I=(e,t)=>{a[t]=e,l(a),v(a.reduce((e,t)=>e+t,0))},w=(e,t)=>{c[t]=e,i(c),N(c.reduce((e,t)=>e+t,0))};return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:m().container,style:{display:r?null:"none"},children:[(0,n.jsxs)("div",{className:m().nameIn,children:[(0,n.jsx)("p",{children:"Class Name:"}),(0,n.jsx)("input",{type:"text",value:p,onChange:function(e){h(e.target.value)},onFocus:e=>{e.target.select()}})]}),(0,n.jsxs)("div",{className:m().breakpointsIn,children:[(0,n.jsx)("p",{children:"Grade breakpoints"}),(0,n.jsxs)("div",{className:m().labels,children:[(0,n.jsx)("p",{children:"Letter Grade"}),(0,n.jsx)("p",{children:"Minimum Percentage"})]}),g.length>0?g.map((e,t)=>(0,n.jsxs)("div",{children:[(0,n.jsx)("input",{type:"text",value:e[0],onChange:k(t),onFocus:e=>{e.target.select()}}),(0,n.jsx)("input",{type:"number",value:e[1],onChange:S(t),onFocus:e=>{e.target.select()}})]},t)):null,(0,n.jsx)("button",{onClick:function(){x([...g,["new",0]])},className:m().button,children:"add breakpoint"})]}),(0,n.jsx)("button",{onClick:_,className:m().button,children:"finish editing"})]}),(0,n.jsxs)("div",{className:m().container,style:{display:r?"none":null},children:[(0,n.jsxs)("div",{className:m().topBar,children:[(0,n.jsx)("h1",{children:p}),(0,n.jsxs)("h2",{children:["Currently achieved grade: ",f.toFixed(2),"% (",y(f),")"]}),(0,n.jsxs)("h2",{children:["Highest possible grade: ",(100-b).toFixed(2),"% (",y(100-b),")"]}),(0,n.jsx)("button",{onClick:_,className:m().button,children:"edit"}),(0,n.jsx)("button",{onClick:()=>e.deleteCourse(e.id),className:m().button,children:"X"})]}),(0,n.jsxs)("div",{className:m().categoriesBox,children:[u,(0,n.jsx)("button",{onClick:function(){d([...u,(0,n.jsx)(C,{id:t,classID:e.id,updateCat:e.updateCat,updateLocked:I,updateLost:w},t)]),e.addCat(e.id,t),s(t+1)},className:m().button,children:"add category"})]})]})]})}let v=0;function b(e){let[t,s]=(0,j.useState)([]),[a,l]=(0,j.useState)({});(0,j.useEffect)(()=>{let e=JSON.parse(localStorage.getItem("simplifiedState"));e&&function(e){var u=[];for(let t of Object.keys(e))u=[...u,(0,n.jsx)(f,{id:parseInt(t),updateClass:c,updateCat:r,addCat:i,deleteCourse:o,cats:structuredClone(e[t].cats),em:!1,nam:e[t].nam,bp:e[t].bp,pLock:e[t].pLock,pLost:e[t].pLost},parseInt(t))],a[t]=e[t],l(structuredClone(a));v=u.length,s(t.concat(u))}(e)},[]),(0,j.useEffect)(()=>{localStorage.setItem("simplifiedState",JSON.stringify(a))},[JSON.stringify(a)]);let c=(e,t,s)=>{a[e][t]=s,l(structuredClone(a))},i=(e,t)=>{a[e].cats[t]={},l(structuredClone(a))},r=(e,t,s,n)=>{a[e].cats[t][s]=n,l(structuredClone(a))},o=e=>{s(t=>t.filter(t=>parseInt(t.key)!==e)),delete a[e],l(structuredClone(a))};return(0,n.jsxs)("div",{className:p().container,id:e.lm?null:"inverted",children:[t,(0,n.jsx)("button",{onClick:function(){s([...t,(0,n.jsx)(f,{id:v,updateClass:c,addCat:i,updateCat:r,deleteCourse:o},v)]),a[v]={cats:{}},l(structuredClone(a)),v++},className:p().button,children:(0,n.jsx)("img",{className:p().icon,src:"/hwk/add.svg"})})]})}function N(){let[e,t]=(0,j.useState)(!0),[s,a]=(0,j.useState)(!1),[c,r]=(0,j.useState)(!1),[o,d]=(0,j.useState)(!1),[p,h]=(0,j.useState)(0);return(0,n.jsxs)("div",{className:i().container,children:[(0,n.jsxs)(l(),{children:[(0,n.jsx)("title",{children:"HWK: Grade Calculator"}),(0,n.jsx)("link",{rel:"icon",href:"/hwk/favicon.ico"})]}),(0,n.jsx)(u,{lm:e,setLm:()=>{t(!e)},toggleLoad:()=>{a(!s)},toggleSave:()=>{r(!c)},toggleInfo:()=>{d(!o)}}),(0,n.jsx)(b,{lm:e},p)]})}},4431:e=>{e.exports={container:"Category_container__hCK7v",assignments:"Category_assignments__r54u9"}},1426:e=>{e.exports={container:"Course_container__25gEO",topBar:"Course_topBar__BUAOy"}},5183:e=>{e.exports={container:"CourseContainer_container___tlMy",button:"CourseContainer_button__vMiDp"}},9680:e=>{e.exports={container:"Home_container__d256j"}},6195:e=>{e.exports={rule:"Sidebar_rule__tu0eX",container:"Sidebar_container__DYphx",button:"Sidebar_button__SyJgS",icon:"Sidebar_icon__Xclcw"}},3368:(e,t,s)=>{e.exports=s(6085)}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(7276)),_N_E=e.O()}]);